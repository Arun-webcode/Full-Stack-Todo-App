<ion-card>
  <ion-card-header>
    <ion-card-subtitle>Welcome to Todo</ion-card-subtitle>
    <ion-card-title>Signup</ion-card-title>
  </ion-card-header>
  <ion-card-content>
    <form (ngSubmit)="signup()" #signupForm="ngForm">
      <ion-item>
        <ion-label for="emailInput" position="floating">Email</ion-label>
        <ion-input id="emailInput" type="email" [(ngModel)]="email" name="email" required
          placeholder="Enter your email"></ion-input>
      </ion-item>
      <ion-button fill="outline" expand="block" type="button" (click)="sendOtp()">Send OTP</ion-button>

      <ion-item *ngIf="showOtpInput">
        <ion-label for="otpInput" position="floating">OTP</ion-label>
        <ion-input id="otpInput" type="text" [(ngModel)]="otp" name="otp" placeholder="Enter OTP"></ion-input>
      </ion-item>
      <ion-label *ngIf="otpError" color="danger">Wrong OTP</ion-label>
      <ion-button *ngIf="showOtpInput" expand="block" type="button" (click)="verifyOtp()">Verify OTP</ion-button>

      <ion-item *ngIf="showPasswordInputs">
        <ion-label for="passwordInput" position="floating">Password</ion-label>
        <ion-input id="passwordInput" [type]="passwordType" [(ngModel)]="password" name="password" required></ion-input>
        <ion-icon slot="end" [name]="passwordIcon" (click)="togglePassword()"></ion-icon>
      </ion-item>

      <ion-item *ngIf="showPasswordInputs">
        <ion-label for="confirmPasswordInput" position="floating">Confirm Password</ion-label>
        <ion-input id="confirmPasswordInput" type="password" [(ngModel)]="confirmPassword" name="confirmPassword"
          required></ion-input>
      </ion-item>

      <ion-item *ngIf="showPasswordInputs">
        <ion-label for="nameInput" position="floating">Name</ion-label>
        <ion-input id="nameInput" type="text" [(ngModel)]="name" name="name" required></ion-input>
      </ion-item>
      <ion-button *ngIf="showPasswordInputs" expand="block" type="submit">Signup</ion-button>
    </form>
  </ion-card-content>
</ion-card>